# tui-010: Copy Mode for Tool Outputs and Agent Responses

**Completed**: 2025-12-19

## Summary

Added keyboard-driven copy functionality for TUI chat content using a "focus mode" pattern (Ctrl+Y → number key → clipboard).

## Design

**Focus Mode Approach:**
- Keeps UI clean (no persistent buttons)
- Ctrl+Y enters copy mode, highlighting last 9 copyable blocks with `[1]`-`[9]` indices
- Press digit to copy, ESC to cancel
- Uses header status for feedback (no layout shift)

**Architecture:**
- Widget tree is source of truth (no parallel state tracking)
- `widget.copyable_content` attribute stores raw content
- DOM query on mode entry: `.tool-result, .agent-message`
- Cross-platform clipboard: pbcopy (macOS) / xclip (Linux) / clip (Windows)

## Usage

| Key | Action |
|-----|--------|
| Ctrl+Y | Enter/exit copy mode |
| 1-9 | Copy numbered block |
| ESC | Cancel copy mode |

## Implementation

- `tui.py`: Copy mode logic, clipboard helper, widget content attachment
- `theme.py`: `.copy-target` CSS rule for border highlight

## Future Improvements (Out of Scope)

1. Code block extraction from Markdown
2. Inline hover copy buttons
3. Quick-copy last message shortcut
4. Multi-select copy
