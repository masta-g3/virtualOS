[
  {
    "id": "agent-001",
    "description": "VirtualFileSystem with in-memory dict-based storage",
    "steps": [
      "Create file with write()",
      "Read file with read()",
      "List files with list_dir()"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "agent-002",
    "description": "run_shell tool with ls, cat, echo, rm, pwd, cd commands",
    "steps": [
      "Run ls to list files",
      "Run cat to read file",
      "Run echo > to write file",
      "Run rm to delete",
      "Run pwd/cd for navigation"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [
      "agent-001"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "agent-003",
    "description": "Add mkdir, touch, mv commands to run_shell",
    "steps": [
      "Run mkdir to create directory",
      "Run touch to create empty file",
      "Run mv to rename/move file"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "agent-002"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "agent-004",
    "description": "Add grep-like file content search to run_shell",
    "steps": [
      "Run grep pattern to search file contents",
      "Results show matching lines with context"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "agent-002"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251219_agent-004_grep_search.md",
    "created_at": "2025-12-08"
  },
  {
    "id": "agent-005",
    "description": "Support multi-file operations (wildcards or batch)",
    "steps": [
      "Run command with glob pattern",
      "Operation applies to multiple files"
    ],
    "status": "pending",
    "priority": 3,
    "depends_on": [
      "agent-003"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-001",
    "description": "Basic TUI with input prompt and conversation loop",
    "steps": [
      "Type message and press enter",
      "See agent response",
      "Type another message"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [],
    "discovered_from": null,
    "spec_file": "docs/history/20251216_tui-001_slash_commands.md",
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-002",
    "description": "Display tool calls inline with styling",
    "steps": [
      "Agent calls run_shell",
      "Tool call appears in blue italic before response"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [
      "tui-001"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251218_tui-002_theme_system.md",
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-003",
    "description": "Markdown rendering and message history",
    "steps": [
      "Agent response renders as markdown",
      "Follow-up questions have context from previous turns"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [
      "tui-001"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251208_tui_interface.md",
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-004",
    "description": "Clear messages and error display",
    "steps": [
      "Press ctrl+l to clear all messages",
      "Network/API errors display in red"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "tui-001"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251208_tui_interface.md",
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-005",
    "description": "Loading indicator during agent work",
    "steps": [
      "Submit message",
      "See spinner/indicator while agent processes",
      "Indicator disappears when response arrives"
    ],
    "status": "pending",
    "priority": 2,
    "depends_on": [
      "tui-001"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-006",
    "description": "Syntax highlighting in code blocks",
    "steps": [
      "Agent returns code in markdown fence",
      "Code displays with syntax colors"
    ],
    "status": "pending",
    "priority": 3,
    "depends_on": [
      "tui-003"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-007",
    "description": "Session persistence (save/restore history)",
    "steps": [
      "Exit TUI",
      "Restart TUI",
      "Previous conversation history is restored"
    ],
    "status": "pending",
    "priority": 3,
    "depends_on": [
      "tui-003"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-008",
    "description": "Scrollable/collapsible tool call output",
    "steps": [
      "Agent makes tool call with long output",
      "Output is collapsed or scrollable, not flooding the view"
    ],
    "status": "pending",
    "priority": 3,
    "depends_on": [
      "tui-002"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "agent-006",
    "description": "Bidirectional workspace sync between host folder and VirtualFileSystem",
    "steps": [
      "Place files in designated folder",
      "Start TUI",
      "Files appear in virtual filesystem"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "agent-001"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251208_workspace_sync.md",
    "created_at": "2025-12-08"
  },
  {
    "id": "agent-007",
    "description": "Execute Python files in workspace via run_shell",
    "steps": [
      "Agent writes python file",
      "Agent runs python file.py",
      "Output shown in TUI"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "agent-006"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-08"
  },
  {
    "id": "tui-001",
    "epic": "tui",
    "feature": "Slash commands system",
    "status": "done",
    "created_at": "2025-12-16",
    "spec_file": "docs/history/20251216_tui-001_slash_commands.md"
  },
  {
    "id": "tui-009",
    "description": "UX assessment and design improvements for TUI",
    "steps": [
      "Evaluate against Nielsen heuristics",
      "Identify design gaps and quick wins",
      "Propose refined color palette",
      "Add loading indicator",
      "Add keybinding footer"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [],
    "discovered_from": null,
    "spec_file": "docs/history/20251216_tui-009_ux_improvements.md",
    "created_at": "2025-12-16"
  },
  {
    "id": "agent-008",
    "title": "Structured file tools (write_file, read_file)",
    "description": "Replace fragile echo parsing with dedicated PydanticAI tools for file operations",
    "steps": [
      "Add write_file tool",
      "Add read_file tool",
      "Update system prompt",
      "Deprecate echo redirection"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [
      "agent-007"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251216_agent-008_structured_file_tools.md",
    "created_at": "2025-12-16"
  },
  {
    "id": "model-001",
    "epic": "model",
    "title": "Add Gemini Flash 3 model support",
    "status": "done",
    "created_at": "2025-12-17",
    "spec_file": "docs/history/20251217_model-001_multi_model_support.md"
  },
  {
    "id": "tui-002",
    "epic": "tui",
    "title": "Custom Theme System",
    "status": "done",
    "created_at": "2025-12-18",
    "spec_file": "docs/history/20251218_tui-002_theme_system.md"
  },
  {
    "id": "cli-001",
    "epic": "cli",
    "title": "CLI mode for virtual agent",
    "status": "done",
    "created_at": "2025-12-18",
    "spec_file": "docs/history/20251218_cli-001_oneshot_mode.md"
  },
  {
    "id": "port-001",
    "description": "User can run agent with generateText and get response",
    "steps": [
      "Create aisdk-port directory with package.json and tsconfig.json",
      "Install ai, @ai-sdk/openai, zod dependencies",
      "Create minimal agent.ts using openai.responses() (Responses API, not regular completion)",
      "Add system prompt matching Python SYSTEM_PROMPT",
      "Verify: run via bun/ts-node, receive text response from model"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-18"
  },
  {
    "id": "port-002",
    "description": "Agent has virtual filesystem with read/write/shell tools",
    "steps": [
      "Port VirtualFileSystem class to TypeScript (files Map, cwd, _resolve)",
      "Create write_file, read_file, run_shell tools with zod schemas",
      "Wire tools to generateText with stopWhen: stepCountIs(10)",
      "Verify: agent can create file, read it back, list directory"
    ],
    "status": "done",
    "priority": 1,
    "depends_on": [
      "port-001"
    ],
    "discovered_from": null,
    "spec_file": null,
    "created_at": "2025-12-18"
  },
  {
    "id": "port-003",
    "description": "Agent has research tools (search, summaries, fetch)",
    "steps": [
      "Define Prisma function interfaces for searchPapers, getSummaries, getEmbedding",
      "Create search_arxiv tool accepting injected Prisma functions",
      "Create get_paper_summaries tool for resolution-based summaries",
      "Create fetch_paper tool to download markdown from S3 to VFS",
      "Verify: agent can search papers and fetch content using mock Prisma functions"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "port-002"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251219_port-003_research_tools.md",
    "created_at": "2025-12-18"
  },
  {
    "id": "port-004",
    "description": "Agent supports multi-model configuration",
    "steps": [
      "Add model registry using openai.responses() for OpenAI (not regular openai())",
      "Add google() for Gemini, anthropic() for Claude",
      "Implement thinking effort mapping per provider (reasoningEffort, thinkingLevel, budgetTokens)",
      "Export createAgent function with model/thinking params",
      "Verify: switch models via parameter, confirm responses work with each provider"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "port-001"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251219_port-004_multi_model.md",
    "created_at": "2025-12-18"
  },
  {
    "id": "port-005",
    "description": "Agent can be invoked via Vercel API route",
    "steps": [
      "Create route.ts POST handler accepting prompt in request body",
      "Return agent response as JSON (text + tool calls)",
      "Add proper error handling for API route",
      "Verify: curl POST returns agent response, tool calls visible"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [
      "port-003"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251219_port-005_vercel_api.md",
    "created_at": "2025-12-18"
  },
  {
    "id": "port-006",
    "description": "CLI one-shot mode mirrors Python behavior",
    "steps": [
      "Create cli.ts with argument parsing for prompt",
      "Load workspace files into VFS on startup",
      "Print final response to stdout",
      "Verify: bun run cli.ts 'query' produces same output as python version"
    ],
    "status": "done",
    "priority": 3,
    "depends_on": [
      "port-003"
    ],
    "discovered_from": null,
    "spec_file": "docs/history/20251219_port-006_oneshot_parity.md",
    "created_at": "2025-12-18"
  },
  {
    "id": "port-004.1",
    "description": "Fix Gemini/Anthropic SDK version incompatibility with AI SDK 4 (v2 vs v1 models)",
    "steps": [
      "Option A: Upgrade to AI SDK 5",
      "Option B: Downgrade provider packages to v1-compatible versions"
    ],
    "status": "done",
    "priority": 2,
    "depends_on": [],
    "discovered_from": "port-005",
    "spec_file": "docs/history/20251219_port-004.1_sdk_compat.md",
    "created_at": "2025-12-19"
  },
  {
    "id": "tui-010",
    "title": "Copy functionality for tool outputs and agent responses",
    "status": "done",
    "created_at": "2025-12-19",
    "spec_file": "docs/history/20251219_tui-010_copy_mode.md"
  }
]
